<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Camera & Display Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      color: #222;
      padding: 20px;
    }

    h1 {
      margin: 0 0 10px;
    }

    .section-title {
      margin: 18px 0 8px;
      font-size: 16px;
      font-weight: 700;
      color: #333;
      border-bottom: 1px solid #eee;
      padding-bottom: 6px;
    }

    .card {
      background: #fff;
      border: 1px solid #e5e5e5;
      border-radius: 10px;
      padding: 16px;
      max-width: 2048px;
    }

    .row {
      margin: 10px 0;
    }

    .grid {
      display: grid;
      gap: 10px;
    }

    .six-cols {
      grid-template-columns: repeat(6, minmax(0, 1fr));
    }

    .two-cols {
      grid-template-columns: 1fr 1fr;
    }

    .label {
      font-size: 13px;
      color: #555;
      margin-bottom: 4px;
      display: block;
    }

    .with-unit {
      position: relative;
      display: inline-block;
    }

    .with-unit input,
    .with-unit select,
    .with-unit .out {
      width: 200px;
      height: 36px;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      box-sizing: border-box;
      font: inherit;
      line-height: normal;
    }

    .with-unit input,
    .with-unit select {
      background: #fff;
      color: #222;
    }

    .with-unit .out {
      display: inline-flex;
      align-items: center;
      background: #eee;
      color: #333;
      font-variant-numeric: tabular-nums;
    }

    .muted {
      color: #666;
      font-size: 12px;
    }

    button {
      padding: 6px 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #fff;
      cursor: pointer;
    }

    /* Feed tool buttons */
    #feed_tools button.active {
      outline: 2px solid #444;
    }

    #feed_tools button:focus-visible {
      outline: 2px solid #222;
    }

    #tool_C,
    #tool_R,
    #tool_F {
      color: #fff !important;
      font-weight: 600;
    }

    #tool_C {
      background-color: #e53935 !important;
      border-color: #b71c1c !important;
    }

    #tool_R {
      background-color: #1e88e5 !important;
      border-color: #0d47a1 !important;
    }

    #tool_F {
      background-color: #43a047 !important;
      border-color: #1b5e20 !important;
    }
  </style>
</head>

<body>

  <h1>Camera & Display Calculator</h1>

  <!-- ========================= Section 1: Camera Cycling Calculator ========================= -->
  <h2 class="section-title">Camera Cycling Calculator</h2>
  <div class="card">
    <div class="row grid six-cols">
      <div>
        <label class="label" for="total_cams">Total Number of Cameras</label>
        <div class="with-unit"><input id="total_cams" type="number" step="1" min="0" placeholder="e.g., 120" /></div>
      </div>
      <div>
        <label class="label" for="critical_cams">Number of Critical (Fixed) Cameras</label>
        <div class="with-unit"><input id="critical_cams" type="number" step="1" min="0" placeholder="e.g., 36" /></div>
        <div class="muted">These are always on-screen (not cycled).</div>
      </div>
      <div>
        <label class="label" for="cycles_per_min">Number of Cycles per Minute</label>
        <div class="with-unit"><input id="cycles_per_min" type="number" step="1" min="1" placeholder="e.g., 6" /></div>
        <div class="muted">Maximum = 6.</div>
      </div>
      <div>
        <label class="label">Rotating Cameras</label>
        <div class="with-unit"><span class="out" id="rotating_out" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label">Rotating Cameras per Scene (Once per minute)</label>
        <div class="with-unit"><span class="out" id="cycled_per_scene_out" aria-readonly="true">—</span></div>
      </div>
    </div>
  </div>

  <!-- ========================= Section 2: Video Display Calculator ========================= -->
  <h2 class="section-title">Video Display Calculator</h2>
  <div class="card">
    <div class="row grid six-cols">
      <div>
        <label class="label" for="disp_type">Display Type</label>
        <div class="with-unit">
          <select id="disp_type">
            <option value="LCD">LCD</option>
            <option value="LED">LED</option>
          </select>
        </div>
      </div>
      <div>
        <label class="label" for="diag_in">Screen Size (Diagonal)</label>
        <div class="with-unit"><input id="diag_in" type="number" step="0.1" min="1" placeholder="e.g., 55" /></div>
      </div>

      <div>
        <div class="muted">Screen Size (WxH) ≈</div>
        <div class="with-unit"><span class="out" id="screen_size_mm_box" aria-readonly="true">—</span></div>
      </div>

      <div>
        <label class="label" for="res_w">Display Resolution (Width)</label>
        <div class="with-unit"><input id="res_w" type="number" step="1" min="1" placeholder="e.g., 1920" /></div>
      </div>
      <div>
        <label class="label" for="res_h">Display Resolution (Height)</label>
        <div class="with-unit"><input id="res_h" type="number" step="1" min="1" placeholder="e.g., 1080" /></div>
      </div>
      <div>
        <div class="muted">Pixel Pitch ≈</div>
        <div class="with-unit"><span class="out" id="pixel_pitch_mm" aria-readonly="true">—</span></div>
      </div>
    </div>

    <div class="row grid six-cols" style="margin-top:10px;">
      <div>
        <label class="label" for="wall_cols">Columns of Panels for Video Wall</label>
        <div class="with-unit"><input id="wall_cols" type="number" step="1" min="1" placeholder="e.g., 3" /></div>
      </div>
      <div>
        <label class="label" for="wall_rows">Rows of Panels for Video Wall</label>
        <div class="with-unit"><input id="wall_rows" type="number" step="1" min="1" placeholder="e.g., 2" /></div>
      </div>
      <div>
        <div class="muted">Video Wall Size (mm) ≈</div>
        <div class="with-unit"><span class="out" id="wall_total_mm_box" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label" for="cols_per_display">Columns of Feeds per Display</label>
        <div class="with-unit"><input id="cols_per_display" type="number" step="1" min="1" placeholder="e.g., 3" />
        </div>
      </div>
      <div>
        <label class="label" for="rows_per_display">Rows of Feeds per Display</label>
        <div class="with-unit"><input id="rows_per_display" type="number" step="1" min="1" placeholder="e.g., 3" />
        </div>
      </div>
      <div>
        <div class="muted">Feed Size (mm)</div>
        <div class="with-unit"><span class="out" id="feed_wh_mm_box" aria-readonly="true">—</span></div>
        <div class="muted">Minimum feed dimensions = 120 × 67 mm</div>
      </div>
    </div>

    <div class="row grid six-cols" style="margin-top:12px;">
      <div>
        <label class="label">Total Number of Feeds</label>
        <div class="with-unit"><span class="out" id="total_feeds" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label">Number of Fixed Spots</label>
        <div class="with-unit"><span class="out" id="fixed_spots_out" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label">Number of Rotating Spots</label>
        <div class="with-unit"><span class="out" id="rotating_spots_out" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label">Number of Free Spots</label>
        <div class="with-unit"><span class="out" id="free_spots_out" aria-readonly="true">—</span></div>
      </div>
      <div>
        <label class="label">Ratio of Free Spots</label>
        <div class="with-unit"><span class="out" id="free_ratio_out" aria-readonly="true">—</span></div>
      </div>
    </div>

    <div class="row" style="margin-top:10px;">
      <div class="row" id="feed_tools" style="display:flex;gap:8px;align-items:center;margin:6px 0 8px;">
        <span class="label" style="margin:0;">Legend:</span>
        <button type="button" data-tool="C" id="tool_C">Critical (C)</button>
        <button type="button" data-tool="R" id="tool_R">Rotating (R)</button>
        <button type="button" data-tool="F" id="tool_F">Free (F)</button>
        <!-- Clear button removed -->
      </div>
    </div>
  </div>

  <!-- ========================= Section 3: Video Wall Layout (Visualization) ========================= -->
  <h2 class="section-title">Video Wall Layout</h2>
  <div class="card">
    <svg id="wall_viz" width="100%" height="620"
      style="background:#fff;border:1px solid #eee;border-radius:8px;display:block;"></svg>
  </div>

  <!-- ========================= Section 4: Control Room Layout & Ergonomics ========================= -->
  <h2 class="section-title">Control Room Layout</h2>
  <div class="card">
    <div class="row grid six-cols">
      <div>
        <div class="label">Minimum Viewing Distance (Visual Acuity)</div>
        <div class="with-unit"><span class="out" id="min_view_dist_m" aria-readonly="true">—</span></div>
        <div class="muted">Pixel pitch (mm) × 3.438</div>
      </div>
      <div>
        <div class="muted">Maximum Viewing Distance ≈</div>
        <div class="with-unit"><span class="out" id="max_view_dist_m">—</span></div>
        <div class="muted">6 × full wall height</div>
      </div>
      <div>
        <label class="label" for="cr_ceiling_mm">Room Ceiling Height (mm)</label>
        <div class="with-unit"><input id="cr_ceiling_mm" type="number" step="1" min="1800" placeholder="e.g., 3000" />
        </div>
      </div>
      <div>
        <label class="label" for="cr_vw_floor_clear_mm">Floor → Video Wall Bottom (mm)</label>
        <div class="with-unit"><input id="cr_vw_floor_clear_mm" type="number" step="1" min="0"
            placeholder="e.g., 300" /></div>
      </div>
    </div>

    <div class="row grid six-cols">
      <div>
        <label class="label" for="desk_height_mm">Height of Desk (mm)</label>
        <div class="with-unit"><input id="desk_height_mm" type="number" step="1" min="0" placeholder="e.g., 750" />
        </div>
      </div>
      <div>
        <label class="label" for="ws_num_screens">Number of Screens</label>
        <div class="with-unit"><input id="ws_num_screens" type="number" step="1" min="1" placeholder="e.g., 2" /></div>
        <div class="muted">For future use (spacing, layout).</div>
      </div>
      <div>
        <label class="label" for="ws_screen_size_in">Size of Screen (inch)</label>
        <div class="with-unit"><input id="ws_screen_size_in" type="number" step="0.1" min="1" placeholder="e.g., 27" />
        </div>
        <div class="muted">Assuming 16:9 (height ≈ inch × 12.47 mm).</div>
      </div>

      <div>
        <div class="muted">Workstation Screen Height (mm) ≈</div>
        <div class="with-unit"><span class="out" id="ws_screen_height_mm">—</span></div>
      </div>
      <div>
        <div class="muted">Height of Console (mm)</div>
        <div class="with-unit"><span class="out" id="console_height_mm">—</span></div>
        <div class="muted">Desk Height + Screen Height + 150</div>
      </div>
      <div>
        <label class="label" for="eye_level_mm">Eye Level (mm)</label>
        <div class="with-unit"><input id="eye_level_mm" type="number" step="1" min="0" placeholder="e.g., 1200" /></div>
        <div class="muted">For sightline checks (future).</div>
      </div>
    </div>

    <div class="row grid six-cols">
      <div>
        <label class="label" for="cr_desk_width_mm">Desk Width (mm)</label>
        <div class="with-unit"><input id="cr_desk_width_mm" type="number" step="1" min="200" placeholder="e.g., 1600" />
        </div>
      </div>
      <div>
        <label class="label" for="cr_desk_depth_mm">Desk Depth (mm)</label>
        <div class="with-unit"><input id="cr_desk_depth_mm" type="number" step="1" min="300" placeholder="e.g., 900" />
        </div>
      </div>
      <div>
        <label class="label" for="cr_rows">Rows of Workstations</label>
        <div class="with-unit">
          <select id="cr_rows">
            <option value="1">1 Row</option>
            <option value="2">2 Rows</option>
          </select>
        </div>
      </div>
      <div>
        <label class="label" for="cr_ws_per_row">Workstations per Row</label>
        <div class="with-unit"><input id="cr_ws_per_row" type="number" step="1" min="1" placeholder="e.g., 6" /></div>
      </div>
      <div>
        <label class="label" for="cr_gap_between_ws_mm">Gap Between Desks (mm)</label>
        <div class="with-unit"><input id="cr_gap_between_ws_mm" type="number" step="1" min="0"
            placeholder="e.g., 150" /></div>
      </div>
      <div>
        <label class="label" for="cr_aisle_mm">Aisle Between Rows (mm)</label>
        <div class="with-unit"><input id="cr_aisle_mm" type="number" step="1" min="0" placeholder="e.g., 1200" /></div>
      </div>
    </div>

    <div class="row grid six-cols">
      <div>
        <div class="label">Side Clearance (mm)</div>
        <div class="with-unit"><input id="cr_side_clear_mm" type="number" step="1" min="0" placeholder="e.g., 600" />
        </div>
      </div>
      <div>
        <div class="label">Back Clearance (mm)</div>
        <div class="with-unit"><input id="cr_back_clear_mm" type="number" step="1" min="0" placeholder="e.g., 600" />
        </div>
      </div>
      <div>
        <div class="muted">Footprint Needed (W × H)</div>
        <div class="with-unit"><span class="out" id="cr_room_size_box">—</span></div>
        <div class="muted">Shown in mm and meters.</div>
      </div>
      <div>
        <label class="label" for="cr_vw_gap_mm">Distance: Video Wall → Front Desk Edge (mm)</label>
        <div class="with-unit"><input id="cr_vw_gap_mm" type="number" step="1" min="0" placeholder="e.g., 1800" /></div>
      </div>
      <div>
        <label class="label" for="cr_op_offset_mm">Distance: Desk Bottom Edge → Operator Center (mm)</label>
        <div class="with-unit">
          <input id="cr_op_offset_mm" type="number" step="1" min="0" placeholder="e.g., 600" />
        </div>
        <div class="muted">Used to place the operator circle behind each desk.</div>
      </div>
    </div>
  </div>

  <!-- ========================= Section 5: Control Room Layout (Plan) ========================= -->
  <h2 class="section-title">Control Room Layout (Plan)</h2>
  <div class="card">
    <svg id="cr_plan_svg" width="100%" height="760"
      style="background:#fff;border:1px solid #eee;border-radius:8px;display:block;"></svg>
  </div>

  <!-- ========================= Section 6: Control Room Elevation (Side View) ========================= -->
  <h2 class="section-title">Control Room Elevation (Side View)</h2>
  <div class="card">
    <div class="row" style="margin-top:10px;">
      <div class="label">Side Elevation</div>
      <svg id="cr_elev_svg" width="100%" height="760"
        style="background:#fff;border:1px solid #eee;border-radius:8px;display:block;"></svg>
      <div class="muted">Shows floor→ceiling, video wall height/position, desk rows (side profile).</div>
    </div>
  </div>

 <script src="app.js"></script>
 
</body>

</html>